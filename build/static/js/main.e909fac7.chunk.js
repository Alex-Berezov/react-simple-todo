(this.webpackJsonpreact_simple_todo=this.webpackJsonpreact_simple_todo||[]).push([[0],{31:function(t,e,c){},58:function(t,e,c){},59:function(t,e,c){},60:function(t,e,c){},66:function(t,e,c){},67:function(t,e,c){"use strict";c.r(e);var n=c(0),s=c(1),i=c.n(s),a=c(33),o=c.n(a),l=c(11),r=c(22),d=c(8),j=c(14),u=c(17),h=c.n(u),b=c(4),m=c.n(b),f=(c(58),c.p+"static/media/remove.618167a4.svg"),p=function(t){var e=t.items,c=t.isRemovable,s=t.onClick,i=t.onRemove,a=t.onClickItem,o=t.activeItem;return Object(n.jsx)("ul",{onClick:s,className:"todo__sidebar-list",children:e.map((function(t,e){return Object(n.jsxs)("li",{className:h()(t.className,{active:t.active?t.active:o&&o.id===t.id}),onClick:a?function(){return a(t)}:null,children:[Object(n.jsx)("i",{children:t.icons?t.icons:Object(n.jsx)(v,{color:t.color.name})}),Object(n.jsxs)("span",{children:[t.name,t.tasks&&" (".concat(t.tasks.length,")")]}),c&&Object(n.jsx)("img",{onClick:function(){return function(t){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a?")&&m.a.delete("http://localhost:3001/lists/"+t.id).then((function(){i(t.id)}))}(t)},className:"list__remove_icon",src:f,alt:"Remove icon"})]},t+e)}))})},O=(c(59),c(16)),v=(c(60),function(t){var e=t.color,c=t.onClick,s=t.className;return Object(n.jsx)("i",{onClick:c,className:h()("badge",Object(O.a)({},"badge--".concat(e),e),s)})}),x=c.p+"static/media/close.ac7b9278.svg";var C=function(t){var e=t.colors,c=t.onAdd,i=Object(s.useState)(!1),a=Object(d.a)(i,2),o=a[0],l=a[1],r=Object(s.useState)(null),u=Object(d.a)(r,2),h=u[0],b=u[1],f=Object(s.useState)(!1),O=Object(d.a)(f,2),C=O[0],k=O[1],w=Object(s.useState)(""),g=Object(d.a)(w,2),_=g[0],N=g[1];Object(s.useEffect)((function(){Array.isArray(e)&&b(e[0].id)}),[e]);var L=function(){l(!1),N(""),b(e[0].id)};return Object(n.jsxs)("div",{className:"add__list",children:[Object(n.jsx)(p,{onClick:function(){return l(!0)},items:[{className:"list__add-button",icons:Object(n.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M6 1V11",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M1 6H11",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"}]}),o&&Object(n.jsxs)("div",{className:"add__list_popup",children:[Object(n.jsx)("img",{onClick:L,src:x,alt:"Close popup btn",className:"add__list_popup_close-btn"}),Object(n.jsx)("input",{className:"field",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430",value:_,onChange:function(t){N(t.target.value)}}),Object(n.jsx)("div",{className:"add__list_popup-colors",children:e.map((function(t){return Object(n.jsx)(v,{onClick:function(){return b(t.id)},color:t.name,className:h===t.id&&"active"},t.id)}))}),Object(n.jsx)("button",{onClick:function(){_||alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430"),k(!0),m.a.post("http://localhost:3001/lists",{name:_,colorId:h}).then((function(t){var n=t.data,s=e.filter((function(t){return t.id===h}))[0],i=Object(j.a)(Object(j.a)({},n),{},{color:s,tasks:[]});c(i),L()})).catch((function(){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0441\u043f\u0438\u0441\u043a\u0430")})).finally((function(){k(!1)}))},className:"button",children:C?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})},k=(c(31),c.p+"static/media/edit.d48cb023.svg"),w=c.p+"static/media/add.bb82cf25.svg";var g=function(t){var e=t.list,c=t.onAddTask,i=Object(s.useState)(!1),a=Object(d.a)(i,2),o=a[0],l=a[1],r=Object(s.useState)(""),j=Object(d.a)(r,2),u=j[0],h=j[1],b=Object(s.useState)(!1),f=Object(d.a)(b,2),p=f[0],O=f[1],v=function(){l(!o),h("")};return Object(n.jsx)("div",{className:"form",children:o?Object(n.jsxs)("div",{className:"form_open",children:[Object(n.jsx)("input",{className:"field",type:"text",placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438",value:u,onChange:function(t){h(t.target.value)}}),Object(n.jsxs)("div",{className:"form__buttons",children:[Object(n.jsx)("button",{onClick:function(){var t={listId:e.id,text:u,completed:!1};O(!0),m.a.post("http://localhost:3001/tasks",t).then((function(t){var n=t.data;c(e.id,n),v()})).catch((function(){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438")})).finally((function(){O(!1)}))},className:"send",children:p?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),Object(n.jsx)("button",{onClick:v,className:"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]}):Object(n.jsxs)("div",{onClick:v,className:"form_close",children:[Object(n.jsx)("img",{src:w,alt:"Add task"}),Object(n.jsx)("p",{children:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"})]})})};var _=function(t){var e=t.id,c=t.text,s=t.list,i=t.completed,a=t.onRemove,o=t.onEdit,l=t.onComplete;return Object(n.jsxs)("div",{className:"items_row",children:[Object(n.jsxs)("div",{className:"checkbox",children:[Object(n.jsx)("input",{onChange:function(t){l(s.id,e,t.target.checked)},id:"task-".concat(e),type:"checkbox",checked:i}),Object(n.jsx)("label",{htmlFor:"task-".concat(e),children:Object(n.jsx)("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M9.29999 1.20001L3.79999 6.70001L1.29999 4.20001",stroke:"#000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),Object(n.jsx)("p",{className:"text",children:c}),Object(n.jsxs)("div",{className:"actions",children:[Object(n.jsx)("div",{onClick:function(){return o(s.id,{id:e,text:c})},className:"edit",children:Object(n.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M0 12.0504V14.5834C0 14.8167 0.183308 15 0.41661 15H2.9496C3.05792 15 3.16624 14.9583 3.24123 14.875L12.34 5.78458L9.21542 2.66001L0.124983 11.7504C0.0416611 11.8338 0 11.9338 0 12.0504ZM14.7563 3.36825C14.8336 3.29116 14.8949 3.1996 14.9367 3.0988C14.9785 2.99801 15 2.88995 15 2.78083C15 2.6717 14.9785 2.56365 14.9367 2.46285C14.8949 2.36205 14.8336 2.27049 14.7563 2.19341L12.8066 0.24367C12.7295 0.166428 12.6379 0.105146 12.5372 0.0633343C12.4364 0.021522 12.3283 0 12.2192 0C12.1101 0 12.002 0.021522 11.9012 0.0633343C11.8004 0.105146 11.7088 0.166428 11.6318 0.24367L10.107 1.76846L13.2315 4.89304L14.7563 3.36825Z",fill:"#DFDFDF"})})}),Object(n.jsx)("div",{onClick:function(){return a(s.id,e)},className:"delete",children:Object(n.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M6.24741 5L9.73899 1.50842C9.9047 1.343 9.99791 1.11853 9.99812 0.884393C9.99832 0.650251 9.90551 0.425617 9.74009 0.259907C9.57468 0.0941973 9.35021 0.000986589 9.11606 0.000779811C8.88192 0.000573033 8.65729 0.0933872 8.49158 0.258804L5 3.75038L1.50842 0.258804C1.34271 0.0930948 1.11796 0 0.883613 0C0.649264 0 0.424514 0.0930948 0.258804 0.258804C0.0930948 0.424514 0 0.649264 0 0.883613C0 1.11796 0.0930948 1.34271 0.258804 1.50842L3.75038 5L0.258804 8.49158C0.0930948 8.65729 0 8.88204 0 9.11639C0 9.35074 0.0930948 9.57549 0.258804 9.7412C0.424514 9.90691 0.649264 10 0.883613 10C1.11796 10 1.34271 9.90691 1.50842 9.7412L5 6.24962L8.49158 9.7412C8.65729 9.90691 8.88204 10 9.11639 10C9.35074 10 9.57549 9.90691 9.7412 9.7412C9.90691 9.57549 10 9.35074 10 9.11639C10 8.88204 9.90691 8.65729 9.7412 8.49158L6.24741 5Z",fill:"#E3E3E3"})})})]})]})};var N=function(t){var e=t.list,c=t.onEditTitle,s=t.onAddTask,i=t.withoutEmpty,a=t.onRemoveTask,o=t.onEditTask,r=t.onCompleteTask;return Object(n.jsxs)("div",{className:"todo__tasks_task",children:[Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)(l.b,{to:"/lists/".concat(e.id),children:Object(n.jsx)("h2",{style:{color:e.color.hex},children:e.name})}),Object(n.jsx)("img",{onClick:function(){var t=window.prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",e.name);t&&(c(e.id,t),m.a.patch("http://localhost:3001/lists/"+e.id,{name:t}).catch((function(){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")})))},src:k,alt:"Edit header"})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"items",children:[!i&&e.tasks&&!e.tasks.length&&Object(n.jsx)("h2",{children:"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"}),e.tasks&&e.tasks.map((function(t){return Object(n.jsx)(_,Object(j.a)({onRemove:a,onEdit:o,onComplete:r,list:e},t),t.id)}))]}),Object(n.jsx)(g,{list:e,onAddTask:s},e.id)]})},L=c(2);var E=function(){var t=Object(s.useState)(null),e=Object(d.a)(t,2),c=e[0],i=e[1],a=Object(s.useState)(null),o=Object(d.a)(a,2),l=o[0],j=o[1],u=Object(s.useState)(null),h=Object(d.a)(u,2),b=h[0],f=h[1],O=Object(L.e)(),v=Object(L.f)();Object(s.useEffect)((function(){m.a.get("http://localhost:3001/lists?_expand=color&_embed=tasks").then((function(t){var e=t.data;i(e)})),m.a.get("http://localhost:3001/colors").then((function(t){var e=t.data;j(e)}))}),[]);var x=function(t,e){var n=c.map((function(c){return c.id===t&&(c.tasks=[].concat(Object(r.a)(c.tasks),[e])),c}));i(n)},k=function(t,e){if(window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443?")){var n=c.map((function(c){return c.id===t&&(c.tasks=c.tasks.filter((function(t){return t.id!==e}))),c}));i(n),m.a.delete("http://localhost:3001/tasks/"+e).catch((function(){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443")}))}},w=function(t,e){var n=window.prompt("\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438",e.text);if(n){var s=c.map((function(c){return c.id===t&&(c.tasks=c.tasks.map((function(t){return t.id===e.id&&(t.text=n),t}))),c}));i(s),m.a.patch("http://localhost:3001/tasks/"+e.id,{text:n}).catch((function(){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443")}))}},g=function(t,e){var n=c.map((function(c){return c.id===t&&(c.name=e),c}));i(n)},_=function(t,e,n){var s=c.map((function(c){return c.id===t&&(c.tasks=c.tasks.map((function(t){return t.id===e&&(t.completed=n),t}))),c}));i(s),m.a.patch("http://localhost:3001/tasks/"+e,{completed:n}).catch((function(){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443")}))};return Object(s.useEffect)((function(){var t=v.pathname.split("lists/")[1];if(c){var e=c.find((function(e){return e.id===Number(t)}));f(e)}}),[c,v.pathname]),Object(n.jsxs)("div",{className:"todo",children:[Object(n.jsxs)("div",{className:"todo__sidebar",children:[Object(n.jsx)(p,{onClickItem:function(t){O.push("/")},items:[{activeItem:!0,icons:Object(n.jsx)("svg",{width:"14",height:"12",viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M10.96 5.10001H5.74001C5.24321 5.10001 5.20001 5.50231 5.20001 6.00001C5.20001 6.49771 5.24321 6.90001 5.74001 6.90001H10.96C11.4568 6.90001 11.5 6.49771 11.5 6.00001C11.5 5.50231 11.4568 5.10001 10.96 5.10001ZM12.76 9.60001H5.74001C5.24321 9.60001 5.20001 10.0023 5.20001 10.5C5.20001 10.9977 5.24321 11.4 5.74001 11.4H12.76C13.2568 11.4 13.3 10.9977 13.3 10.5C13.3 10.0023 13.2568 9.60001 12.76 9.60001ZM5.74001 2.40001H12.76C13.2568 2.40001 13.3 1.99771 13.3 1.50001C13.3 1.00231 13.2568 0.600006 12.76 0.600006H5.74001C5.24321 0.600006 5.20001 1.00231 5.20001 1.50001C5.20001 1.99771 5.24321 2.40001 5.74001 2.40001ZM2.86001 5.10001H1.24001C0.743212 5.10001 0.700012 5.50231 0.700012 6.00001C0.700012 6.49771 0.743212 6.90001 1.24001 6.90001H2.86001C3.35681 6.90001 3.40001 6.49771 3.40001 6.00001C3.40001 5.50231 3.35681 5.10001 2.86001 5.10001ZM2.86001 9.60001H1.24001C0.743212 9.60001 0.700012 10.0023 0.700012 10.5C0.700012 10.9977 0.743212 11.4 1.24001 11.4H2.86001C3.35681 11.4 3.40001 10.9977 3.40001 10.5C3.40001 10.0023 3.35681 9.60001 2.86001 9.60001ZM2.86001 0.600006H1.24001C0.743212 0.600006 0.700012 1.00231 0.700012 1.50001C0.700012 1.99771 0.743212 2.40001 1.24001 2.40001H2.86001C3.35681 2.40001 3.40001 1.99771 3.40001 1.50001C3.40001 1.00231 3.35681 0.600006 2.86001 0.600006Z",fill:"#7C7C7C"})}),name:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",active:"/"===O.location.pathname}]}),c?Object(n.jsx)(p,{items:c,onRemove:function(t){var e=c.filter((function(e){return e.id!==t}));i(e)},onClickItem:function(t){O.push("/lists/".concat(t.id))},activeItem:b,isRemovable:!0}):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",Object(n.jsx)(C,{onAdd:function(t){var e=[].concat(Object(r.a)(c),[t]);i(e)},colors:l})]}),Object(n.jsxs)("div",{className:"todo__tasks",children:[Object(n.jsx)(L.a,{exact:!0,path:"/",children:c&&c.map((function(t){return Object(n.jsx)(N,{list:t,onEditTitle:g,onAddTask:x,onRemoveTask:k,onEditTask:w,onCompleteTask:_,withoutEmpty:!0},t.id)}))}),Object(n.jsx)(L.a,{path:"/lists/:id",children:c&&b&&Object(n.jsx)(N,{list:b,onEditTitle:g,onAddTask:x,onRemoveTask:k,onEditTask:w,onCompleteTask:_})})]})]})};c(66);o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(l.a,{children:Object(n.jsx)(E,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.e909fac7.chunk.js.map